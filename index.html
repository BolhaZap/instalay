<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Redirecionando...</title>
  <!-- Facebook Pixel -->
  <script>
    !(function(f,b,e,v,n,t,s){
      if(f.fbq) return; n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq) f._fbq=n; n.push=n; n.loaded=!0; n.version='2.0';
      n.queue=[]; t=b.createElement(e); t.async=!0;
      t.src=v; s=b.getElementsByTagName(e)[0]; s.parentNode.insertBefore(t,s)
    })(window, document, 'script', 'https://connect.facebook.net/en_US/fbevents.js');

    // Inicialize o Pixel com seu ID (substituído automaticamente abaixo)
    fbq('init', '1554046405266903');
    // Não disparar PageView imediatamente — iremos disparar antes do redirecionamento
  </script>
  <noscript>
    <img height="1" width="1" style="display:none"
      src="https://www.facebook.com/tr?id=1554046405266903&ev=PageView&noscript=1" />
  </noscript>
  <!-- Estilos -->
  <style>
    :root{ --bg: #000; --text: #ffffff; --accent: #00e676; }
    html,body{ height:100%; margin:0; }
    body{
      background: var(--bg);
      color: var(--text);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex; align-items:center; justify-content:center; text-align:center; padding:24px;
    }

    .container{ max-width:560px; width:100%; }
    .title{ font-size:clamp(18px,4.5vw,28px); margin-bottom:18px; }
    .subtitle{ font-size:clamp(14px,3.6vw,18px); opacity:0.9; margin-top:12px }

    /* Spinner */
    .spinner{
      width: min(28vw,120px);
      height: min(28vw,120px);
      margin: 0 auto;
      border-radius:50%;
      border: calc(min(28vw,120px) * 0.12) solid rgba(255,255,255,0.06);
      border-top: calc(min(28vw,120px) * 0.12) solid var(--accent);
      animation: spin 1s linear infinite;
      box-sizing:border-box;
    }
    @keyframes spin{ to{ transform: rotate(360deg);} }

    /* small note */
    .hint{ font-size:12px; color:rgba(255,255,255,0.6); margin-top:10px }

    /* make sure everything scales well on very small screens */
    @media (max-width:360px){
      .title{ font-size:18px }
    }
  </style>
</head>
<body>
  <div class="container" role="main">
    <div class="spinner" aria-hidden="true"></div>
    <h1 class="title">Alguns segundos...</h1>
    <p class="subtitle">Você será redirecionado(a) para o Instagram.</p>
    <p class="hint">Se não for redirecionado(a) automaticamente, <a id="manualLink" href="https://www.instagram.com/laiane_lailaa" style="color:var(--accent); text-decoration:none">clique aqui</a>.</p>
  </div>

  <script>
    (function(){
      // Configurações
      const redirectUrl = 'https://www.instagram.com/laiane_lailaa';
      const pixelId = '1554046405266903';
      const delayMs = 3000; // tempo em ms antes do redirecionamento (3s)

      // Função para disparar PageView e depois redirecionar
      function firePixelAndRedirect(){
        try{
          if(window.fbq){
            // Dispara PageView explicitamente
            fbq('track', 'PageView');
          }
        }catch(e){
          // se der erro, continua o redirecionamento
          console.warn('Erro ao disparar pixel:', e);
        }
        // redireciona
        window.location.href = redirectUrl;
      }

      // Aguarda o delay e executa
      setTimeout(firePixelAndRedirect, delayMs);

      // Segurança: se o usuário clicar no link manual, também dispara o pixel antes de navegar
      document.getElementById('manualLink').addEventListener('click', function(e){
        e.preventDefault();
        try{ if(window.fbq) fbq('track','PageView'); } catch(_){}
        setTimeout(function(){ window.location.href = redirectUrl; }, 150);
      });

      // Accessibility: se o usuário usar teclado e pressionar Enter no link
      document.getElementById('manualLink').addEventListener('keydown', function(e){
        if(e.key === 'Enter'){
          e.preventDefault();
          try{ if(window.fbq) fbq('track','PageView'); } catch(_){}
          setTimeout(function(){ window.location.href = redirectUrl; }, 150);
        }
      });

    })();
  </script>
</body>
</html>
